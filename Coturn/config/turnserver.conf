# Coturn Configuration for TunRTC
# STUN/TURN server configuration

# Listen on all interfaces
listening-ip=0.0.0.0

# External IP (replace with your server's public IP)
external-ip=YOUR_PUBLIC_IP

# STUN/TURN ports
listening-port=3478
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=65535

# Long-term credential mechanism
lt-cred-mech

# User authentication (username:password)
user=tunrtc:tunrtc123

# Realm for authentication
realm=tunrtc.local

# Log file
log-file=/var/log/coturn/turnserver.log
verbose

# Use fingerprint in TURN messages
fingerprint

# Enable STUN
stun-only=false

# Total quota (MB/s per user)
total-quota=100

# Per-session quota (MB per session)
bps-capacity=0

# Max allocation lifetime
max-bps=1000000

# Mobility support
mobility

# Disable multicast peers
no-multicast-peers

# No TCP relay
no-tcp-relay

# No TLS
no-tls
no-dtls

# Database for persistent storage (optional)
# userdb=/var/lib/coturn/turndb

# Cipher list for better security
cipher-list="ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384"

# Disable insecure protocols
no-sslv3
no-tlsv1
no-tlsv1_1

# Misc
no-cli
no-stdout-log

# Denied peer IPs (security)
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allowed peer IPs (if needed, configure specific ranges)
# allowed-peer-ip=x.x.x.x-y.y.y.y
